---
title: 重定向
sidebar_label: 重定向
---

## 在客户端上 {#on-the-client}

一种常见的用例是根据用户的会话数据有条件地将用户重定向到其他页面。这是你可
以执行的操作：

```tsx
import {useRouter, useSession} from "blitz"

const LoginPage: BlitzPage = () => {
  const router = useRouter()
  const session = useSession()

  useEffect(() => {
    if (session.userId) {
      router.push("/home")
    }
  })

  return /* stuff */
}
```

## 在服务器上 {#on-the-server}

如果你不希望通过客户端重定向获得“无效内容更新”，则可以使用
[`getServerSideProps`](./get-server-side-props) 有条件地从服务器重定向。这
是你可以执行的操作：

```ts
import {getSession} from "blitz"

export const getServerSideProps = async ({req, res}) => {
  const session = await getSession(req, res)

  if (!session.userId) {
    return {
      redirect: {
        destination: "/login",
        permanent: false,
      },
    }
  }

  return {props: {}}
}
```
