---
title: 测试
sidebar_label: 测试
---

`blitz` 依赖项还会自定为你安装并配置 `jest`、`@testing-library/react`,
`@testing-library/react-hooks` 和 `@testing-libary/jest-dom`。

## Jest {#jest}

[Jest](https://jestjs.io/) 是一个易于使用且令人轻松的测试框架。要在你的应
用中运行测试，你将在终端上运行 `jest` 或 `jest --watch`。

要进行新的测试，请创建一个名为 `something.test.ts`（或 `.js`、`.tsx` 等）
。这是一个例子：

```ts
import something from "./somewhere"

it("does something", () => {
  const result = something()
  expect(result).toBe(true)
})
```

> 关于使用 Jest 的更多细节
> ，[阅读 Jest 文档](https://jestjs.io/docs/en/using-matchers)

### Jest 配置 {#jest-config}

Blitz 提供了一个 Jest 预设，可以为你配置许多复杂的内容，包括 TypeScript 支
持。

如果你需要[自定义 Jest 配置](https://jestjs.io/docs/en/configuration)，你
可以在 `jest.config.js` 进行。

```ts
// jest.config.js
module.exports = {
  preset: "blitz",
}
```

### 客户端 vs 服务端环境 {#client-vs-server-environments}

以下测试文件将在 Jest 服务器环境中运行：

- 在 `api`、`queries` 或 `mutations` 文件夹下的 `*.test.*` 文件
- `*.server.test.*` 文件

所有其他文件将在 Jest 客户端环境（带有 jsdom）中运行。

## @testing-library {#testing-library}

[@testing-library](https://testing-library.com/docs/) 是一组可以帮助你以用
户为中心的方式来测试 UI 组件的软件库。它是比 Enzyme 更好的选择，如果你过去
曾经使用过它。

自动为你安装了以下软件包。如果需要请参考他们的文档：

- [@testing-library/dom](https://testing-library.com/docs/dom-testing-library/intro)
- [@testing-library/jest-dom](https://testing-library.com/docs/ecosystem-jest-dom)
- [@testing-library/react](https://testing-library.com/docs/react-testing-library/intro)
- [@testing-library/react-hooks](https://react-hooks-testing-library.com/)
